(this.webpackJsonpsnail=this.webpackJsonpsnail||[]).push([[0],{14:function(t,n,o){},16:function(t,n,o){},17:function(t,n,o){"use strict";o.r(n);var r=o(0),e=o.n(r),c=o(6),a=o.n(c),i=(o(14),o(3)),l=o(8),u=o(7),f=o(2),p=o(1),s=o.n(p);function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.push.apply(o,r)}return o}var w=function(t,n){switch(n){case"N":return{col:t.col,row:t.row-1};case"NE":return{col:t.col+1,row:t.row-1};case"E":return{row:t.row,col:t.col+1};case"SE":return{col:t.col+1,row:t.row+1};case"S":return{col:t.col,row:t.row+1};case"SW":return{col:t.col-1,row:t.row+1};case"W":return{row:t.row,col:t.col-1};case"NW":return{col:t.col-1,row:t.row-1};default:return t}},b=function(t,n){return{col:Math.min(t.col,n.col),row:Math.min(t.row,n.row)}},m=function(t,n){return{col:Math.max(t.col,n.col),row:Math.max(t.row,n.row)}},y=function(t){return"".concat(t.col,",").concat(t.row)},v=function(t){var n=t.split(",");return{col:parseInt(n[0],10),row:parseInt(n[1],10)}},g=function(t){var n=t.split(",");return{x:parseInt(n[0],10),y:parseInt(n[1],10)}},O=function(t,n){for(var o=b(t,n),r=m(t,n),e=[],c=o.col;c<=r.col;)e.push({col:c,row:o.row}),c+=1;return Object(p.keyBy)(e,y)},j=function(t,n){for(var o=b(t,n),r=m(t,n),e=[],c=o.row;c<=r.row;)e.push({col:o.col,row:c}),c+=1;return Object(p.keyBy)(e,y)},d=function(t,n){var o=b(t,n),r=m(t,n),e={},c=j(o,r);return Object(p.each)(c,(function(t){return e=function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?h(o,!0).forEach((function(n){Object(i.a)(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(o).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}({},e,{},O(t,r))})),Object(p.keyBy)(e,y)},E=function(t){return Math.max.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.col}))))},S=function(t){return Math.min.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.col}))))},k=function(t){return Math.max.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.row}))))},x=function(t){return Math.min.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.row}))))},M=function(t){var n=function(t){return{topLeft:"".concat(S(t),",").concat(x(t)),topRight:"".concat(E(t),",").concat(x(t)),bottomRight:"".concat(E(t),",").concat(k(t)),bottomLeft:"".concat(S(t),",").concat(k(t))}}(t.map(v)),o=[].concat(Object(f.a)(Object.keys(O(v(n.topLeft),v(n.topRight)))),Object(f.a)(Object.keys(O(v(n.bottomLeft),v(n.bottomRight)))),Object(f.a)(Object.keys(j(v(n.bottomLeft),v(n.topLeft)))),Object(f.a)(Object.keys(j(v(n.bottomRight),v(n.topRight)))));return Object(p.uniq)(o)},P=function(t,n){return{x:t,y:n}},L=60,R=40,D=20*R,N=20*L,W=function(t){var n=v(t);return!(n.col<0)&&(!(n.col>=L)&&(!(n.row<0)&&!(n.row>=R)))},A=function(t){var n=t.current.getContext("2d");return n.font="".concat(20,"px serif"),n.textBaseline="top",n},I=function(t,n,o,r){var e=function(t,n){var o={col:t.col-n,row:t.row-n},r={col:t.col+n,row:t.row+n};return d(o,r)}(n.loc,8),c=Object.keys(e),a=M(c),i=[];a.forEach((function(t){var o=function(t,n){for(var o=n.x-t.x,r=n.y-t.y,e=Math.abs(o),c=Math.abs(r),a=o>0?1:-1,i=r>0?1:-1,l=P(t.x,t.y),u=[P(l.x,l.y)],f=0,p=0;f<e||p<c;)(.5+f)/e<(.5+p)/c?(l.x+=a,f++):(l.y+=i,p++),u.push(P(l.x,l.y));return u}({x:n.loc.col,y:n.loc.row},g(t));s.a.each(o,(function(t){var n=function(t){return"".concat(t.x,",").concat(t.y)}(t),o=r[n];if(!o||!o.type||"floor"!==o.type)return!(!o||!o.type||"wall"!==o.type)&&(i.push(n),!1);i.push(n)}))})),s.a.uniq(i).forEach((function(o){var e=r[o];if(e){var c=-1*(function(t,n){var o=v(t),r=v(n),e=Math.pow(r.col-o.col,2),c=Math.pow(r.row-o.row,2);return Math.floor(Math.sqrt(e+c))}(y(n.loc),o)-8)/7;t.fillStyle="rgb(255,255,255,".concat(c,")"),t.fillRect(20*e.col,20*e.row,20,20),"wall"===e.type&&(t.fillStyle="rgb(67, 82, 68, ".concat(c,")"),t.fillRect(20*e.col,20*e.row,20,20))}}))},C=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(t){return t.open=!0},e=["N","E","S","W"],c=o?s.a.sample(t):"".concat(Math.ceil(L/2),",").concat(Math.ceil(R/2));r(n[c]);var a=function(){var t=y(w(n[c],s.a.sample(e)));W(t)&&(n[t].open||(r(n[t]),c=t))};s.a.times(2500,a)},B=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(t){return t.open=!0},e=["N","E","S","W"],c=o?s.a.sample(t):"".concat(Math.ceil(L/2),",").concat(Math.ceil(R/2));r(n[c]);var a=function(){var t=y(w(n[c],s.a.sample(e)));W(t)&&(r(n[t]),c=t)};s.a.times(1500,a)},T=function(t,n){var o=[],r=[];t.forEach((function(t){var r=n[t];if(r.open)return r.type="floor",void o.push(t)})),t.forEach((function(t){var o=n[t];if(!o.type&&function(t,n){var o=g(n),r=["".concat(o.x,",").concat(o.y-1),"".concat(o.x+1,",").concat(o.y),"".concat(o.x,",").concat(o.y+1),"".concat(o.x-1,",").concat(o.y)],e=[];return r.forEach((function(n){var o=t[n];o&&"floor"===o.type&&e.push(n)})),e.length>0}(n,t))return o.type="wall",void r.push(t)}))},F=function(t,n){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.map(y),e=r.reduce((function(t,n,r){return t[n]=o[r]||0,t}),{}),c=function(){var t=r.shift();[y(w(v(t),"N")),y(w(v(t),"E")),y(w(v(t),"S")),y(w(v(t),"W"))].forEach((function(o){e[o]||n[o]&&"floor"===n[o].type&&(e[o]=e[t]+1,r.push(o))}))};r.length;)c();return t.forEach((function(t,n){var r=y(t);e[r]=o[n]||0})),e};o(16);function q(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.push.apply(o,r)}return o}var J=d({col:0,row:0,open:!1},{col:L,row:R}),G=Object.keys(J);B(G,J),T(G,J);var U,z={loc:s.a.find(J,(function(t){return t.open}))},H=function(t,n){t.clearRect(0,0,N,D),function(t,n,o,r){var e=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n.forEach((function(n){var r=o[n];"floor"===r.type?t.fillStyle="rgb(10,10,10)":"wall"===r.type?t.fillStyle="rgb(15,15,15)":t.fillStyle="rgb(12,12,12)",t.fillRect(20*r.col,20*r.row,20,20),e&&(t.fillStyle="rgb(200,0,0, 1)",t.font="8px serif",t.fillText(n,20*r.col,20*r.row))}))}(t,G,J,z),I(t,z,0,J),function(t,n){t.fillStyle="rgb(50,50,50,1)",t.font="".concat(20,"px serif"),t.fillText("@",20*n.loc.col,20*n.loc.row,20)}(t,z),"on"===n.dijkstra&&function(t,n,o,r){var e=F(n,o,r);Object.keys(e).forEach((function(n){var o=v(n);t.fillStyle="rgb(200,0,0, 1)",t.font="12px serif",t.fillText(e[n],20*o.col,20*o.row)}))}(t,[z.loc],J,[0,0,0,0,0,0])};a.a.render(e.a.createElement((function(){var t=Object(r.useRef)(null),n=Object(r.useState)({algorithm:"dw",iterations:30,startingLocation:"30,20",randomStartingLocation:"on"}),o=Object(l.a)(n,2),c=o[0],a=o[1],f=function(t,n){var o=function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?q(o,!0).forEach((function(n){Object(i.a)(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):q(o).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}({},c);o[t]=n,a(o)};Object(r.useEffect)((function(){U=A(t),H(U,c)}));var p=function(t){var n=w(z.loc,t),o=y(n);W(o)&&J[o].open&&(z.loc=n,H(U,c))};return Object(u.a)("keydown",(function(t){var n=t.key;["ArrowUp","8","w"].includes(String(n))&&p("N"),["ArrowRight","6","d"].includes(String(n))&&p("E"),["ArrowDown","2","s"].includes(String(n))&&p("S"),["ArrowLeft","4","a"].includes(String(n))&&p("W")})),e.a.createElement("div",{className:"App"},e.a.createElement("div",{className:"settings"},"SETTINGS:",e.a.createElement("label",{htmlFor:"Algorithm"},"Algorithm:"),e.a.createElement("select",{name:"Algorithm",value:c.algorithm,onChange:function(t){f("algorithm",t.target.value)}},e.a.createElement("option",{value:"dw"},"Drunkards Walk"),e.a.createElement("option",{value:"dw2"},"Drunkards Walk 2")),e.a.createElement("label",{htmlFor:"iterations"},"Iterations:"),e.a.createElement("input",{name:"iterations",type:"number",min:"1",max:"1000",value:c.iterations,onChange:function(t){f("iterations",t.target.value)}}),e.a.createElement("label",{htmlFor:"randomStart"},"Random Starting Location"),e.a.createElement("input",{type:"checkbox",name:"randomStart",checked:c.randomStartingLocation,onChange:function(t){f("randomStartingLocation","on"===c.randomStartingLocation?"":"on")}}),e.a.createElement("label",{htmlFor:"randomStart"},"Dijkstra Map"),e.a.createElement("input",{type:"checkbox",name:"dijkstra",checked:c.dijkstra,onChange:function(t){f("dijkstra","on"===c.dijkstra?"":"on")}}),e.a.createElement("button",{onClick:function(){J=d({col:0,row:0,open:!1},{col:L,row:R});var t={dw:C,dw2:B};s.a.times(c.iterations,(function(){return t[c.algorithm](G,J,"on"===c.randomStartingLocation)})),T(G,J),z={loc:s.a.find(J,(function(t){return t.open}))},H(U,c)}},"Rebuild Map")),e.a.createElement("canvas",{width:N,height:D,className:"canvas",ref:t}))}),null),document.getElementById("root"))},9:function(t,n,o){t.exports=o(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.9b8f38a6.chunk.js.map