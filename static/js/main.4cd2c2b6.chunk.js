(this.webpackJsonpsnail=this.webpackJsonpsnail||[]).push([[0],{14:function(t,n,e){},16:function(t,n,e){},17:function(t,n,e){"use strict";e.r(n);var o=e(0),r=e.n(o),c=e(6),a=e.n(c),i=(e(14),e(3)),l=e(8),u=e(7),f=e(2),p=e(1),s=e.n(p);function h(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function w(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?h(e,!0).forEach((function(n){Object(i.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var b=function(t,n){switch(n){case"N":return w({},t,{row:t.row-1});case"NE":return{col:t.col+1,row:t.row-1};case"E":return w({},t,{col:t.col+1});case"SE":return{col:t.col+1,row:t.row+1};case"S":return w({},t,{row:t.row+1});case"SW":return{col:t.col-1,row:t.row+1};case"W":return w({},t,{col:t.col-1});case"NW":return{col:t.col-1,row:t.row-1};default:return t}},y=function(t,n){return{col:Math.min(t.col,n.col),row:Math.min(t.row,n.row)}},m=function(t,n){return{col:Math.max(t.col,n.col),row:Math.max(t.row,n.row)}},v=function(t){return"".concat(t.col,",").concat(t.row)},O=function(t){var n=t.split(",");return{col:parseInt(n[0],10),row:parseInt(n[1],10)}},g=function(t){var n=t.split(",");return{x:parseInt(n[0],10),y:parseInt(n[1],10)}},j=function(t,n){for(var e=y(t,n),o=m(t,n),r=[],c=e.col;c<=o.col;)r.push({col:c,row:e.row}),c+=1;return Object(p.keyBy)(r,v)},d=function(t,n){for(var e=y(t,n),o=m(t,n),r=[],c=e.row;c<=o.row;)r.push({col:e.col,row:c}),c+=1;return Object(p.keyBy)(r,v)},E=function(t,n){var e=y(t,n),o=m(t,n),r={},c=d(e,o);return Object(p.each)(c,(function(t){return r=w({},r,{},j(t,o))})),Object(p.keyBy)(r,v)},S=function(t){return Math.max.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.col}))))},x=function(t){return Math.min.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.col}))))},M=function(t){return Math.max.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.row}))))},k=function(t){return Math.min.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.row}))))},P=function(t){var n=function(t){return{topLeft:"".concat(x(t),",").concat(k(t)),topRight:"".concat(S(t),",").concat(k(t)),bottomRight:"".concat(S(t),",").concat(M(t)),bottomLeft:"".concat(x(t),",").concat(M(t))}}(t.map(O)),e=[].concat(Object(f.a)(Object.keys(j(O(n.topLeft),O(n.topRight)))),Object(f.a)(Object.keys(j(O(n.bottomLeft),O(n.bottomRight)))),Object(f.a)(Object.keys(d(O(n.bottomLeft),O(n.topLeft)))),Object(f.a)(Object.keys(d(O(n.bottomRight),O(n.topRight)))));return Object(p.uniq)(e)},L=function(t,n){return{x:t,y:n}},R=60,D=40,N=20*D,A=20*R,W=function(t){var n=O(t);return!(n.col<0)&&(!(n.col>=R)&&(!(n.row<0)&&!(n.row>=D)))},I=function(t){var n=t.current.getContext("2d");return n.font="".concat(20,"px serif"),n.textBaseline="top",n},B=function(t,n,e,o){var r=function(t,n){var e={col:t.col-n,row:t.row-n},o={col:t.col+n,row:t.row+n};return E(e,o)}(n.loc,8),c=Object.keys(r),a=P(c),i=[];a.forEach((function(t){var e=function(t,n){for(var e=n.x-t.x,o=n.y-t.y,r=Math.abs(e),c=Math.abs(o),a=e>0?1:-1,i=o>0?1:-1,l=L(t.x,t.y),u=[L(l.x,l.y)],f=0,p=0;f<r||p<c;)(.5+f)/r<(.5+p)/c?(l.x+=a,f++):(l.y+=i,p++),u.push(L(l.x,l.y));return u}({x:n.loc.col,y:n.loc.row},g(t));s.a.each(e,(function(t){var n=function(t){return"".concat(t.x,",").concat(t.y)}(t),e=o[n];if(!e||!e.type||"floor"!==e.type)return!(!e||!e.type||"wall"!==e.type)&&(i.push(n),!1);i.push(n)}))})),s.a.uniq(i).forEach((function(e){var r=o[e];if(r){var c=-1*(function(t,n){var e=O(t),o=O(n),r=Math.pow(o.col-e.col,2),c=Math.pow(o.row-e.row,2);return Math.floor(Math.sqrt(r+c))}(v(n.loc),e)-8)/7;t.fillStyle="rgb(255,255,255,".concat(c,")"),t.fillRect(20*r.col,20*r.row,20,20),"wall"===r.type&&(t.fillStyle="rgb(67, 82, 68, ".concat(c,")"),t.fillRect(20*r.col,20*r.row,20,20))}}))},C=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t){return t.open=!0},r=["N","E","S","W"],c=e?s.a.sample(t):"".concat(Math.ceil(R/2),",").concat(Math.ceil(D/2));o(n[c]);var a=function(){var t=v(b(n[c],s.a.sample(r)));W(t)&&(n[t].open||(o(n[t]),c=t))};s.a.times(2500,a)},T=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t){return t.open=!0},r=["N","E","S","W"],c=e?s.a.sample(t):"".concat(Math.ceil(R/2),",").concat(Math.ceil(D/2));o(n[c]);var a=function(){var t=v(b(n[c],s.a.sample(r)));W(t)&&(o(n[t]),c=t)};s.a.times(1500,a)},q=function(t,n){var e=[],o=[];t.forEach((function(t){var o=n[t];if(o.open)return o.type="floor",void e.push(t)})),t.forEach((function(t){var e=n[t];if(!e.type&&function(t,n){var e=g(n),o=["".concat(e.x,",").concat(e.y-1),"".concat(e.x+1,",").concat(e.y),"".concat(e.x,",").concat(e.y+1),"".concat(e.x-1,",").concat(e.y)],r=[];return o.forEach((function(n){var e=t[n];e&&"floor"===e.type&&r.push(n)})),r.length>0}(n,t))return e.type="wall",void o.push(t)}))};e(16);function F(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}var J=E({col:0,row:0,open:!1},{col:R,row:D}),G=Object.keys(J);T(G,J),q(G,J);var U,z={loc:s.a.find(J,(function(t){return t.open}))},H=function(t){t.clearRect(0,0,A,N),function(t,n,e,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n.forEach((function(n){var o=e[n];"floor"===o.type?t.fillStyle="rgb(10,10,10)":"wall"===o.type?t.fillStyle="rgb(15,15,15)":t.fillStyle="rgb(12,12,12)",t.fillRect(20*o.col,20*o.row,20,20),r&&(t.fillStyle="rgb(200,0,0, 1)",t.font="8px serif",t.fillText(n,20*o.col,20*o.row))}))}(t,G,J,z),B(t,z,0,J),function(t,n){t.fillStyle="rgb(50,50,50,1)",t.fillText("@",20*n.loc.col,20*n.loc.row,20)}(t,z)};a.a.render(r.a.createElement((function(){var t=Object(o.useRef)(null),n=Object(o.useState)({algorithm:"dw",iterations:30,startingLocation:"30,20",randomStartingLocation:"on"}),e=Object(l.a)(n,2),c=e[0],a=e[1],f=function(t,n){var e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?F(e,!0).forEach((function(n){Object(i.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):F(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},c);e[t]=n,a(e)};Object(o.useEffect)((function(){U=I(t),H(U)}));var p=function(t){var n=b(z.loc,t),e=v(n);W(e)&&J[e].open&&(z.loc=n,H(U))};return Object(u.a)("keydown",(function(t){var n=t.key;["ArrowUp","8","w"].includes(String(n))&&p("N"),["ArrowRight","6","d"].includes(String(n))&&p("E"),["ArrowDown","2","s"].includes(String(n))&&p("S"),["ArrowLeft","4","a"].includes(String(n))&&p("W")})),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"settings"},"SETTINGS:",r.a.createElement("label",{htmlFor:"Algorithm"},"Algorithm:"),r.a.createElement("select",{name:"Algorithm",value:c.algorithm,onChange:function(t){f("algorithm",t.target.value)}},r.a.createElement("option",{value:"dw"},"Drunkards Walk"),r.a.createElement("option",{value:"dw2"},"Drunkards Walk 2")),r.a.createElement("label",{htmlFor:"iterations"},"Iterations:"),r.a.createElement("input",{name:"iterations",type:"number",min:"1",max:"1000",value:c.iterations,onChange:function(t){f("iterations",t.target.value)}}),r.a.createElement("label",{htmlFor:"randomStart"},"Random Starting Location"),r.a.createElement("input",{type:"checkbox",name:"randomStart",checked:c.randomStartingLocation,onChange:function(t){f("randomStartingLocation","on"===c.randomStartingLocation?"":"on")}}),r.a.createElement("button",{onClick:function(){J=E({col:0,row:0,open:!1},{col:R,row:D});var t={dw:C,dw2:T};s.a.times(c.iterations,(function(){return t[c.algorithm](G,J,"on"===c.randomStartingLocation)})),q(G,J),z={loc:s.a.find(J,(function(t){return t.open}))},H(U)}},"Rebuild Map")),r.a.createElement("canvas",{width:A,height:N,className:"canvas",ref:t}))}),null),document.getElementById("root"))},9:function(t,n,e){t.exports=e(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.4cd2c2b6.chunk.js.map