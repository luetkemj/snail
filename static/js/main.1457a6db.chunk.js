(this.webpackJsonpsnail=this.webpackJsonpsnail||[]).push([[0],{14:function(t,o,n){},16:function(t,o,n){},17:function(t,o,n){"use strict";n.r(o);var e=n(1),r=n.n(e),c=n(6),a=n.n(c),l=(n(14),n(3)),i=n(8),u=n(2),f=n(7),s=n(0),p=n.n(s);function h(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.push.apply(n,e)}return n}var m=function(t,o){switch(o){case"N":return{col:t.col,row:t.row-1};case"NE":return{col:t.col+1,row:t.row-1};case"E":return{row:t.row,col:t.col+1};case"SE":return{col:t.col+1,row:t.row+1};case"S":return{col:t.col,row:t.row+1};case"SW":return{col:t.col-1,row:t.row+1};case"W":return{row:t.row,col:t.col-1};case"NW":return{col:t.col-1,row:t.row-1};default:return t}},b=function(t,o){return{col:Math.min(t.col,o.col),row:Math.min(t.row,o.row)}},w=function(t,o){return{col:Math.max(t.col,o.col),row:Math.max(t.row,o.row)}},y=function(t){return"".concat(t.col,",").concat(t.row)},g=function(t){var o=t.split(",");return{col:parseInt(o[0],10),row:parseInt(o[1],10)}},v=function(t){var o=t.split(",");return{x:parseInt(o[0],10),y:parseInt(o[1],10)}},O=function(t,o){for(var n=b(t,o),e=w(t,o),r=[],c=n.col;c<=e.col;)r.push({col:c,row:n.row}),c+=1;return Object(s.keyBy)(r,y)},j=function(t,o){for(var n=b(t,o),e=w(t,o),r=[],c=n.row;c<=e.row;)r.push({col:n.col,row:c}),c+=1;return Object(s.keyBy)(r,y)},d=function(t,o){var n=b(t,o),e=w(t,o),r={},c=j(n,e);return Object(s.each)(c,(function(t){return r=function(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?h(n,!0).forEach((function(o){Object(l.a)(t,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))}))}return t}({},r,{},O(t,e))})),Object(s.keyBy)(r,y)},E=function(t){return Math.max.apply(Math,Object(u.a)(Object(s.map)(t,(function(t){return t.col}))))},S=function(t){return Math.min.apply(Math,Object(u.a)(Object(s.map)(t,(function(t){return t.col}))))},x=function(t){return Math.max.apply(Math,Object(u.a)(Object(s.map)(t,(function(t){return t.row}))))},k=function(t){return Math.min.apply(Math,Object(u.a)(Object(s.map)(t,(function(t){return t.row}))))},M=function(t){var o=function(t){return{topLeft:"".concat(S(t),",").concat(k(t)),topRight:"".concat(E(t),",").concat(k(t)),bottomRight:"".concat(E(t),",").concat(x(t)),bottomLeft:"".concat(S(t),",").concat(x(t))}}(t.map(g)),n=[].concat(Object(u.a)(Object.keys(O(g(o.topLeft),g(o.topRight)))),Object(u.a)(Object.keys(O(g(o.bottomLeft),g(o.bottomRight)))),Object(u.a)(Object.keys(j(g(o.bottomLeft),g(o.topLeft)))),Object(u.a)(Object.keys(j(g(o.bottomRight),g(o.topRight)))));return Object(s.uniq)(n)},P=function(t,o){return{x:t,y:o}},L=60,R=40,D=20*R,N=20*L,W=function(t){var o=g(t);return!(o.col<0)&&(!(o.col>=L)&&(!(o.row<0)&&!(o.row>=R)))},A=function(t){var o=t.current.getContext("2d");return o.font="".concat(20,"px serif"),o.textBaseline="top",o},C=function(t,o,n,e){var r=function(t,o){var n={col:t.col-o,row:t.row-o},e={col:t.col+o,row:t.row+o};return d(n,e)}(o.loc,8),c=Object.keys(r),a=M(c),l=[];a.forEach((function(t){var n=function(t,o){for(var n=o.x-t.x,e=o.y-t.y,r=Math.abs(n),c=Math.abs(e),a=n>0?1:-1,l=e>0?1:-1,i=P(t.x,t.y),u=[P(i.x,i.y)],f=0,s=0;f<r||s<c;)(.5+f)/r<(.5+s)/c?(i.x+=a,f++):(i.y+=l,s++),u.push(P(i.x,i.y));return u}({x:o.loc.col,y:o.loc.row},v(t));p.a.each(n,(function(t){var o=function(t){return"".concat(t.x,",").concat(t.y)}(t),n=e[o];if(!n||!n.type||"floor"!==n.type)return!(!n||!n.type||"wall"!==n.type)&&(l.push(o),!1);l.push(o)}))})),p.a.uniq(l).forEach((function(n){var r=e[n];if(r){var c=-1*(function(t,o){var n=g(t),e=g(o),r=Math.pow(e.col-n.col,2),c=Math.pow(e.row-n.row,2);return Math.floor(Math.sqrt(r+c))}(y(o.loc),n)-8)/7;t.fillStyle="rgb(255,255,255,".concat(c,")"),t.fillRect(20*r.col,20*r.row,20,20),"wall"===r.type&&(t.fillStyle="rgb(67, 82, 68, ".concat(c,")"),t.fillRect(20*r.col,20*r.row,20,20))}}))},I=function(t,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=function(t){return t.open=!0},r=["N","E","S","W"],c=n?p.a.sample(t):"".concat(Math.ceil(L/2),",").concat(Math.ceil(R/2));e(o[c]);var a=function(){var t=y(m(o[c],p.a.sample(r)));W(t)&&(o[t].open||(e(o[t]),c=t))};p.a.times(2500,a)},T=function(t,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=function(t){return t.open=!0},r=["N","E","S","W"],c=n?p.a.sample(t):"".concat(Math.ceil(L/2),",").concat(Math.ceil(R/2));e(o[c]);var a=function(){var t=y(m(o[c],p.a.sample(r)));W(t)&&(e(o[t]),c=t)};p.a.times(1500,a)},B=function(t,o){var n=[],e=[];t.forEach((function(t){var e=o[t];if(e.open)return e.type="floor",void n.push(t)})),t.forEach((function(t){var n=o[t];if(!n.type&&function(t,o){var n=v(o),e=["".concat(n.x,",").concat(n.y-1),"".concat(n.x+1,",").concat(n.y),"".concat(n.x,",").concat(n.y+1),"".concat(n.x-1,",").concat(n.y)],r=[];return e.forEach((function(o){var n=t[o];n&&"floor"===n.type&&r.push(o)})),r.length>0}(o,t))return n.type="wall",void e.push(t)}))},F=function(t,o){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e=t.map(y),r=e.reduce((function(t,o,e){return t[o]=n[e]||0,t}),{}),c=function(){var t=e.shift();[y(m(g(t),"N")),y(m(g(t),"E")),y(m(g(t),"S")),y(m(g(t),"W"))].forEach((function(n){r[n]||o[n]&&"floor"===o[n].type&&(r[n]=r[t]+1,e.push(n))}))};e.length;)c();return t.forEach((function(t,o){var e=y(t);r[e]=n[o]||0})),r};n(16);function G(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.push.apply(n,e)}return n}function q(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?G(n,!0).forEach((function(o){Object(l.a)(t,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))}))}return t}var J=d({col:0,row:0,open:!1},{col:L,row:R}),U=Object.keys(J);T(U,J),B(U,J);var z,H=p.a.filter(J,(function(t){return t.open})),K={loc:H[0]},Q=[{loc:p.a.sample(H)},{loc:p.a.sample(H)},{loc:p.a.sample(H)},{loc:p.a.sample(H)}],V=function(t){var o,n;z.clearRect(0,0,N,D),function(t,o,n,e){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o.forEach((function(o){var e=n[o];"floor"===e.type?t.fillStyle="rgb(10,10,10)":"wall"===e.type?t.fillStyle="rgb(15,15,15)":t.fillStyle="rgb(12,12,12)",t.fillRect(20*e.col,20*e.row,20,20),r&&(t.fillStyle="rgb(200,0,0, 1)",t.font="8px serif",t.fillText(o,20*e.col,20*e.row))}))}(z,U,J,K),C(z,K,0,J),o=z,n=Q,console.log(n),n.forEach((function(t){o.fillStyle="rgb(0,0,0,1)",o.font="".concat(20,"px serif"),o.fillText("g",20*t.loc.col,20*t.loc.row,20)})),function(t,o){t.fillStyle="rgb(50,50,50,1)",t.font="".concat(20,"px serif"),t.fillText("@",20*o.loc.col,20*o.loc.row,20)}(z,K),"on"===t.dijkstra&&function(t,o,n,e){var r=F(o,n,e);Object.keys(r).forEach((function(o){var n=g(o);t.fillStyle="rgb(200,0,0, 1)",t.font="12px serif",t.fillText(r[o],20*n.col,20*n.row)}))}(z,[K.loc].concat(Object(u.a)(t.bGoals)),J,[0,0,0,0,0,0])};a.a.render(r.a.createElement((function(){var t=Object(e.useRef)(null),o=Object(e.useState)({algorithm:"dw",iterations:30,startingLocation:"30,20",randomStartingLocation:"on",dijkstra:"",goals:1,bGoals:[]}),n=Object(i.a)(o,2),c=n[0],a=n[1];Object(e.useEffect)((function(){z=A(t),V(c)}));var l=function(t,o){var n=q({},c);n[t]=o,a(n)},u=function(t){var o=m(K.loc,t),n=y(o);W(n)&&J[n].open&&(K.loc=o,V(c))};return Object(f.a)("keydown",(function(t){var o=t.key;["ArrowUp","8","w"].includes(String(o))&&u("N"),["ArrowRight","6","d"].includes(String(o))&&u("E"),["ArrowDown","2","s"].includes(String(o))&&u("S"),["ArrowLeft","4","a"].includes(String(o))&&u("W")})),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"settings"},"SETTINGS:",r.a.createElement("label",{htmlFor:"Algorithm"},"Algorithm:"),r.a.createElement("select",{name:"Algorithm",value:c.algorithm,onChange:function(t){l("algorithm",t.target.value)}},r.a.createElement("option",{value:"dw"},"Drunkards Walk"),r.a.createElement("option",{value:"dw2"},"Drunkards Walk 2")),r.a.createElement("label",{htmlFor:"iterations"},"Iterations:"),r.a.createElement("input",{name:"iterations",type:"number",min:"1",max:"1000",value:c.iterations,onChange:function(t){l("iterations",t.target.value)}}),r.a.createElement("label",{htmlFor:"randomStart"},"Random Starting Location"),r.a.createElement("input",{type:"checkbox",name:"randomStart",checked:c.randomStartingLocation,onChange:function(t){l("randomStartingLocation","on"===c.randomStartingLocation?"":"on")}}),r.a.createElement("label",{htmlFor:"randomStart"},"Dijkstra Map"),r.a.createElement("input",{type:"checkbox",name:"dijkstra",checked:c.dijkstra,onChange:function(t){l("dijkstra","on"===c.dijkstra?"":"on")}}),r.a.createElement("label",{htmlFor:"goals"},"Dijkstra Goals:"),r.a.createElement("input",{name:"goals",type:"number",min:"1",max:"100",value:c.goals,onChange:function(t){l("goals",t.target.value)}}),r.a.createElement("button",{onClick:function(){J=d({col:0,row:0,open:!1},{col:L,row:R});var t={dw:I,dw2:T};p.a.times(c.iterations,(function(){return t[c.algorithm](U,J,"on"===c.randomStartingLocation)})),B(U,J),K={loc:p.a.find(J,(function(t){return t.open}))};var o=p.a.filter(J,(function(t){return"floor"===t.type})),n=[];p.a.times(c.goals,(function(){n.push(p.a.sample(o))})),a(q({},c,{bGoals:n})),V(c)}},"Rebuild Map")),r.a.createElement("canvas",{width:N,height:D,className:"canvas",ref:t}))}),null),document.getElementById("root"))},9:function(t,o,n){t.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.1457a6db.chunk.js.map