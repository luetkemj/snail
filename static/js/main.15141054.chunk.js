(this.webpackJsonpsnail=this.webpackJsonpsnail||[]).push([[0],{14:function(t,n,r){},16:function(t,n,r){},17:function(t,n,r){"use strict";r.r(n);var o=r(0),e=r.n(o),c=r(6),a=r.n(c),i=(r(14),r(3)),l=r(8),u=r(7),f=r(2),p=r(1),s=r.n(p);function h(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,o)}return r}function w(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(r,!0).forEach((function(n){Object(i.a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var b=function(t,n){switch(n){case"N":return w({},t,{row:t.row-1});case"NE":return{col:t.col+1,row:t.row-1};case"E":return w({},t,{col:t.col+1});case"SE":return{col:t.col+1,row:t.row+1};case"S":return w({},t,{row:t.row+1});case"SW":return{col:t.col-1,row:t.row+1};case"W":return w({},t,{col:t.col-1});case"NW":return{col:t.col-1,row:t.row-1};default:return t}},m=function(t,n){return{col:Math.min(t.col,n.col),row:Math.min(t.row,n.row)}},y=function(t,n){return{col:Math.max(t.col,n.col),row:Math.max(t.row,n.row)}},v=function(t){return"".concat(t.col,",").concat(t.row)},O=function(t){var n=t.split(",");return{col:parseInt(n[0],10),row:parseInt(n[1],10)}},g=function(t){var n=t.split(",");return{x:parseInt(n[0],10),y:parseInt(n[1],10)}},j=function(t,n){for(var r=m(t,n),o=y(t,n),e=[],c=r.col;c<=o.col;)e.push({col:c,row:r.row}),c+=1;return Object(p.keyBy)(e,v)},d=function(t,n){for(var r=m(t,n),o=y(t,n),e=[],c=r.row;c<=o.row;)e.push({col:r.col,row:c}),c+=1;return Object(p.keyBy)(e,v)},E=function(t,n){var r=m(t,n),o=y(t,n),e={},c=d(r,o);return Object(p.each)(c,(function(t){return e=w({},e,{},j(t,o))})),Object(p.keyBy)(e,v)},S=function(t){return Math.max.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.col}))))},x=function(t){return Math.min.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.col}))))},M=function(t){return Math.max.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.row}))))},k=function(t){return Math.min.apply(Math,Object(f.a)(Object(p.map)(t,(function(t){return t.row}))))},P=function(t){var n=function(t){return{topLeft:"".concat(x(t),",").concat(k(t)),topRight:"".concat(S(t),",").concat(k(t)),bottomRight:"".concat(S(t),",").concat(M(t)),bottomLeft:"".concat(x(t),",").concat(M(t))}}(t.map(O)),r=[].concat(Object(f.a)(Object.keys(j(O(n.topLeft),O(n.topRight)))),Object(f.a)(Object.keys(j(O(n.bottomLeft),O(n.bottomRight)))),Object(f.a)(Object.keys(d(O(n.bottomLeft),O(n.topLeft)))),Object(f.a)(Object.keys(d(O(n.bottomRight),O(n.topRight)))));return Object(p.uniq)(r)},L=function(t,n){return{x:t,y:n}},R=function(t,n,r){return L(D(t.x,n.x,r),D(t.y,n.y,r))},D=function(t,n,r){return t+r*(n-t)},N=function(t,n){for(var r,o=[],e=function(t,n){var r=n.x-t.x,o=n.y-t.y;return Math.max(Math.abs(r),Math.abs(o))}(t,n),c=0;c<=e;c++){var a=0===e?0:c/e;o.push((r=R(t,n,a),L(Math.round(r.x),Math.round(r.y))))}return o},A=60,W=40,I=20*W,B=20*A,C=function(t){var n=O(t);return!(n.col<0)&&(!(n.col>=A)&&(!(n.row<0)&&!(n.row>=W)))},T=function(t){var n=t.current.getContext("2d");return n.font="".concat(20,"px serif"),n.textBaseline="top",n},q=function(t,n,r,o){var e=function(t,n){var r={col:t.col-n,row:t.row-n},o={col:t.col+n,row:t.row+n};return E(r,o)}(n.loc,8),c=Object.keys(e),a=P(c),i=[];a.forEach((function(t){var r={x:n.loc.col,y:n.loc.row},e=g(t),c=N(r,e);s.a.each(c,(function(t){var n=function(t){return"".concat(t.x,",").concat(t.y)}(t),r=o[n];if(!r||!r.type||"floor"!==r.type)return!(!r||!r.type||"wall"!==r.type)&&(i.push(n),!1);i.push(n)}))})),s.a.uniq(i).forEach((function(r){var e=o[r];if(e){var c=-1*(function(t,n){var r=O(t),o=O(n),e=Math.pow(o.col-r.col,2),c=Math.pow(o.row-r.row,2);return Math.floor(Math.sqrt(e+c))}(v(n.loc),r)-8)/7;t.fillStyle="rgb(255,255,255,".concat(c,")"),t.fillRect(20*e.col,20*e.row,20,20),"wall"===e.type&&(t.fillStyle="rgb(67, 82, 68, ".concat(c,")"),t.fillRect(20*e.col,20*e.row,20,20))}}))},F=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t){return t.open=!0},e=["N","E","S","W"],c=r?s.a.sample(t):"".concat(Math.ceil(A/2),",").concat(Math.ceil(W/2));o(n[c]);var a=function(){var t=v(b(n[c],s.a.sample(e)));C(t)&&(n[t].open||(o(n[t]),c=t))};s.a.times(2500,a)},J=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t){return t.open=!0},e=["N","E","S","W"],c=r?s.a.sample(t):"".concat(Math.ceil(A/2),",").concat(Math.ceil(W/2));o(n[c]);var a=function(){var t=v(b(n[c],s.a.sample(e)));C(t)&&(o(n[t]),c=t)};s.a.times(1500,a)},G=function(t,n){var r=[],o=[];t.forEach((function(t){var o=n[t];if(o.open)return o.type="floor",void r.push(t)})),t.forEach((function(t){var r=n[t];if(!r.type&&function(t,n){var r=g(n),o=["".concat(r.x,",").concat(r.y-1),"".concat(r.x+1,",").concat(r.y),"".concat(r.x,",").concat(r.y+1),"".concat(r.x-1,",").concat(r.y)],e=[];return o.forEach((function(n){var r=t[n];r&&"floor"===r.type&&e.push(n)})),e.length>0}(n,t))return r.type="wall",void o.push(t)}))};r(16);function U(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,o)}return r}var z=E({col:0,row:0,open:!1},{col:A,row:W}),H=Object.keys(z);J(H,z),G(H,z);var K,Q={loc:s.a.find(z,(function(t){return t.open}))},V=function(t){t.clearRect(0,0,B,I),function(t,n,r,o){var e=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n.forEach((function(n){var o=r[n];t.fillStyle=(o.open,"rgb(10,10,10)"),t.fillRect(20*o.col,20*o.row,20,20),e&&(t.fillStyle="rgb(200,0,0, 1)",t.font="8px serif",t.fillText(n,20*o.col,20*o.row))}))}(t,H,z,Q),q(t,Q,0,z),function(t,n){t.fillStyle="rgb(50,50,50,1)",t.fillText("@",20*n.loc.col,20*n.loc.row,20)}(t,Q)};a.a.render(e.a.createElement((function(){var t=Object(o.useRef)(null),n=Object(o.useState)({algorithm:"dw",iterations:30,startingLocation:"30,20",randomStartingLocation:"on"}),r=Object(l.a)(n,2),c=r[0],a=r[1],f=function(t,n){var r=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?U(r,!0).forEach((function(n){Object(i.a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(r).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}({},c);r[t]=n,a(r)};Object(o.useEffect)((function(){K=T(t),V(K)}));var p=function(t){var n=b(Q.loc,t),r=v(n);C(r)&&z[r].open&&(Q.loc=n,V(K))};return Object(u.a)("keydown",(function(t){var n=t.key;["ArrowUp","8","w"].includes(String(n))&&p("N"),["ArrowRight","6","d"].includes(String(n))&&p("E"),["ArrowDown","2","s"].includes(String(n))&&p("S"),["ArrowLeft","4","a"].includes(String(n))&&p("W")})),e.a.createElement("div",{className:"App"},e.a.createElement("div",{className:"settings"},"SETTINGS:",e.a.createElement("label",{htmlFor:"Algorithm"},"Algorithm:"),e.a.createElement("select",{name:"Algorithm",value:c.algorithm,onChange:function(t){f("algorithm",t.target.value)}},e.a.createElement("option",{value:"dw"},"Drunkards Walk"),e.a.createElement("option",{value:"dw2"},"Drunkards Walk 2")),e.a.createElement("label",{htmlFor:"iterations"},"Iterations:"),e.a.createElement("input",{name:"iterations",type:"number",min:"1",max:"1000",value:c.iterations,onChange:function(t){f("iterations",t.target.value)}}),e.a.createElement("label",{htmlFor:"randomStart"},"Random Starting Location"),e.a.createElement("input",{type:"checkbox",name:"randomStart",checked:c.randomStartingLocation,onChange:function(t){f("randomStartingLocation","on"===c.randomStartingLocation?"":"on")}}),e.a.createElement("button",{onClick:function(){z=E({col:0,row:0,open:!1},{col:A,row:W});var t={dw:F,dw2:J};s.a.times(c.iterations,(function(){return t[c.algorithm](H,z,"on"===c.randomStartingLocation)})),G(H,z),Q={loc:s.a.find(z,(function(t){return t.open}))},V(K)}},"Rebuild Map")),e.a.createElement("canvas",{width:B,height:I,className:"canvas",ref:t}))}),null),document.getElementById("root"))},9:function(t,n,r){t.exports=r(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.15141054.chunk.js.map